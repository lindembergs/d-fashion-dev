<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8" />
  <title>D Fashion dev</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <!-- Links styleSheet -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="src/assets/css/styles.css" />
</head>

<body>

  <h2 class="conjuntos">Conjuntos</h2>
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <div class="swiper-container" id="conjuntos-carousel"></div>
    </div>
    <div id="conjuntos-carousel-next"></div>
    <div id="conjuntos-carousel-prev"></div>
  </div>

  <h2 class="conjuntos">T-shirts</h2>
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <div class="swiper-container" id="tshirts-carousel"></div>
    </div>
    <div id="tshirts-carousel-next"></div>
    <div id="tshirts-carousel-prev"></div>
  </div>

  <h2 class="conjuntos">Casacos</h2>
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <div class="swiper-container" id="casacos-carousel"></div>
    </div>
    <div id="casacos-carousel-next"></div>
    <div id="casacos-carousel-prev"></div>
  </div>

  <!-- Seu JSON aqui -->
  <script>
    fetch('dados.json')
      .then(response => response.json())
      .then(jsonData => {
        function createCarousel(containerId, items) {
          const container = document.getElementById(containerId);
          const swiperWrapper = document.createElement('div');
          swiperWrapper.classList.add('swiper-wrapper');

          items.forEach(item => {
            const slide = document.createElement('div');
            slide.classList.add('swiper-slide', 'card');

            // Adaptação para o formato do card
            slide.innerHTML = `<img src="${item.image}" alt="${item.product_name}" />
                               <div class="card-info">
                                  <p>${item.product_name}</p>
                                  <div class="price-btn">
                                    <span>${item.current_price}</span>
                                    <span>${item.previous_price}</span>
                                    <button><img src="src/assets/icons/+.svg" alt="" /></button>
                                  </div>
                               </div>`;

            swiperWrapper.appendChild(slide);
          });

          container.appendChild(swiperWrapper);

          new Swiper(`#${containerId}`, {
            slidesPerView: 1,
            spaceBetween: 10,
            navigation: {
              nextEl: `#${containerId}-next`,
              prevEl: `#${containerId}-prev`,
            },
          });
        }

        // Filtrar itens por classe e criar carrosséis
        const conjuntos = jsonData.find(category => category.class === 'Conjunto');
        const tshirts = jsonData.find(category => category.class === 'T-shirts');
        const casacos = jsonData.find(category => category.class === 'Casacos');

        createCarousel('conjuntos-carousel', conjuntos.product);
        createCarousel('tshirts-carousel', tshirts.product);
        createCarousel('casacos-carousel', casacos.product);
      });
  </script>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

</body>

</html>
